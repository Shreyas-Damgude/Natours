{"mappings":"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","sources":["<anon>","public/js/index.js","public/js/login.js","public/js/alerts.js","public/js/updateSettings.js","public/js/signup.js"],"sourcesContent":["function $8ac1a60aff7b57bd$export$516836c6a9dfc573() {\n    const el = document.querySelector(\".alert\");\n    el?.parentElement.removeChild(el);\n}\nfunction $8ac1a60aff7b57bd$export$de026b00723010c1(type, msg) {\n    $8ac1a60aff7b57bd$export$516836c6a9dfc573();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\n    window.setTimeout($8ac1a60aff7b57bd$export$516836c6a9dfc573, 2000);\n}\n\n\nasync function $5705ecc4525cb141$export$596d806903d1f59e(email, password) {\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/login\",\n            data: {\n                email: email,\n                password: password\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"success\", \"Logged in successfully!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\nasync function $5705ecc4525cb141$export$a0973bcfe11b05c9() {\n    try {\n        const res = await axios({\n            method: \"GET\",\n            url: \"/api/v1/users/logout\"\n        });\n        if (res.data.status === \"success\") {\n            (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"success\", \"Logged out!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"error\", \"Error logging out! Try again\");\n    }\n}\n\n\n\nasync function $7f4d2ce77e9fd4e6$export$f558026a994b6051(data, type) {\n    try {\n        const url = `/api/v1/users/update${type === \"password\" ? \"Password\" : \"Me\"}`;\n        const res = await axios({\n            method: \"PATCH\",\n            url: url,\n            data: data\n        });\n        if (res.data.status === \"success\") (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"success\", `${type.toUpperCase()} Updated Successfully`);\n    } catch (err) {\n        (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\n\n\n\nasync function $669557fcaa96f391$export$7200a869094fec36(data) {\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/signup\",\n            data: data\n        });\n        if (res.data.status === \"success\") {\n            (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"success\", \"Account Created!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $8ac1a60aff7b57bd$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\n\n\n// Delegation\ndocument.querySelector(\".form--login\")?.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const email = document.querySelector(\"#email\").value;\n    const password = document.querySelector(\"#password\").value;\n    (0, $5705ecc4525cb141$export$596d806903d1f59e)(email, password);\n});\ndocument.querySelector(\".form--signup\")?.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const name = document.querySelector(\"#name\").value;\n    const email = document.querySelector(\"#email\").value;\n    const role = document.querySelector(\"#role\").value.toLowerCase();\n    const password = document.querySelector(\"#password\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n    (0, $669557fcaa96f391$export$7200a869094fec36)({\n        name: name,\n        email: email,\n        role: role,\n        password: password,\n        passwordConfirm: passwordConfirm\n    });\n});\ndocument.querySelector(\".nav__el--logout\")?.addEventListener(\"click\", (0, $5705ecc4525cb141$export$a0973bcfe11b05c9));\ndocument.querySelector(\".form-user-data\")?.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const form = new FormData();\n    form.append(\"name\", document.querySelector(\"#name\").value);\n    form.append(\"email\", document.querySelector(\"#email\").value);\n    form.append(\"photo\", document.querySelector(\"#photo\").files[0]);\n    (0, $7f4d2ce77e9fd4e6$export$f558026a994b6051)(form, \"data\");\n});\ndocument.querySelector(\".form-user-password\")?.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    document.querySelector(\".btn--save-password\").textContent = \"Updating...\";\n    const passwordCurrent = document.querySelector(\"#password-current\").value;\n    const password = document.querySelector(\"#password\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n    await (0, $7f4d2ce77e9fd4e6$export$f558026a994b6051)({\n        passwordCurrent: passwordCurrent,\n        password: password,\n        passwordConfirm: passwordConfirm\n    }, \"password\");\n    document.querySelector(\".btn--save-password\").textContent = \"Save password\";\n    document.querySelector(\"#password-current\").value = \"\";\n    document.querySelector(\"#password\").value = \"\";\n    document.querySelector(\"#password-confirm\").value = \"\";\n});\n\n\n//# sourceMappingURL=index.js.map\n","import { login, logout } from \"./login\";\nimport { updateSettings } from \"./updateSettings\";\nimport { signup } from \"./signup\";\n\n// Delegation\ndocument.querySelector(\".form--login\")?.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const email = document.querySelector(\"#email\").value;\n  const password = document.querySelector(\"#password\").value;\n  login(email, password);\n});\n\ndocument.querySelector(\".form--signup\")?.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const name = document.querySelector(\"#name\").value;\n  const email = document.querySelector(\"#email\").value;\n  const role = document.querySelector(\"#role\").value.toLowerCase();\n  const password = document.querySelector(\"#password\").value;\n  const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n\n  signup({ name, email, role, password, passwordConfirm });\n});\n\ndocument.querySelector(\".nav__el--logout\")?.addEventListener(\"click\", logout);\n\ndocument.querySelector(\".form-user-data\")?.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const form = new FormData();\n  form.append(\"name\", document.querySelector(\"#name\").value);\n  form.append(\"email\", document.querySelector(\"#email\").value);\n  form.append(\"photo\", document.querySelector(\"#photo\").files[0]);\n\n  updateSettings(form, \"data\");\n});\n\ndocument\n  .querySelector(\".form-user-password\")\n  ?.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    document.querySelector(\".btn--save-password\").textContent = \"Updating...\";\n    const passwordCurrent = document.querySelector(\"#password-current\").value;\n    const password = document.querySelector(\"#password\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n    await updateSettings(\n      { passwordCurrent, password, passwordConfirm },\n      \"password\"\n    );\n\n    document.querySelector(\".btn--save-password\").textContent = \"Save password\";\n    document.querySelector(\"#password-current\").value = \"\";\n    document.querySelector(\"#password\").value = \"\";\n    document.querySelector(\"#password-confirm\").value = \"\";\n  });\n","import { showAlert } from \"./alerts\";\r\n\r\nexport async function login(email, password) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: \"/api/v1/users/login\",\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Logged in successfully!\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n\r\nexport async function logout() {\r\n  try {\r\n    const res = await axios({\r\n      method: \"GET\",\r\n      url: \"/api/v1/users/logout\",\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Logged out!\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", \"Error logging out! Try again\");\r\n  }\r\n}\r\n","export function hideAlert() {\r\n  const el = document.querySelector(\".alert\");\r\n  el?.parentElement.removeChild(el);\r\n}\r\n\r\nexport function showAlert(type, msg) {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\r\n  window.setTimeout(hideAlert, 2000);\r\n}\r\n","import { showAlert } from \"./alerts\";\r\n\r\nexport async function updateSettings(data, type) {\r\n  try {\r\n    const url = `/api/v1/users/update${\r\n      type === \"password\" ? \"Password\" : \"Me\"\r\n    }`;\r\n\r\n    const res = await axios({\r\n      method: \"PATCH\",\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === \"success\")\r\n      showAlert(\"success\", `${type.toUpperCase()} Updated Successfully`);\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n","import { showAlert } from \"./alerts\";\r\n\r\nexport async function signup(data) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: \"/api/v1/users/signup\",\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Account Created!\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n"],"names":["$8ac1a60aff7b57bd$export$516836c6a9dfc573","el","document","querySelector","parentElement","removeChild","$8ac1a60aff7b57bd$export$de026b00723010c1","type","msg","markup","insertAdjacentHTML","window","setTimeout","$5705ecc4525cb141$export$596d806903d1f59e","email","password","res","axios","method","url","data","status","location","assign","err","response","message","$5705ecc4525cb141$export$a0973bcfe11b05c9","$7f4d2ce77e9fd4e6$export$f558026a994b6051","toUpperCase","$669557fcaa96f391$export$7200a869094fec36","addEventListener","e","preventDefault","value","name","role","toLowerCase","passwordConfirm","form","FormData","append","files","textContent","passwordCurrent"],"version":3,"file":"index.js.map","sourceRoot":"../../"}