{"mappings":"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","sources":["<anon>","public/js/index.js","public/js/booking.js","public/js/alerts.js","public/js/updateSettings.js","public/js/authenticate.js","public/js/passwordReset.js"],"sourcesContent":["function $5636b7aa21cb8dd1$export$516836c6a9dfc573() {\n    const el = document.querySelector(\".alert\");\n    el?.parentElement.removeChild(el);\n}\nfunction $5636b7aa21cb8dd1$export$de026b00723010c1(type, msg) {\n    $5636b7aa21cb8dd1$export$516836c6a9dfc573();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\n    window.setTimeout($5636b7aa21cb8dd1$export$516836c6a9dfc573, 2000);\n}\n\n\nasync function $3c95d9b119c33d68$export$8d5bdbf26681c0c2(data) {\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: `/api/v1/bookings`,\n            data: data\n        });\n        if (res.data.status === \"success\") {\n            (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"success\", \"Tour booked!\");\n            window.setTimeout(()=>{\n                location.assign(\"/my-bookings\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\n\n\n\nasync function $0189fb05f67d4288$export$f558026a994b6051(data, type) {\n    try {\n        const url = `/api/v1/users/update${type === \"password\" ? \"Password\" : \"Me\"}`;\n        const res = await axios({\n            method: \"PATCH\",\n            url: url,\n            data: data\n        });\n        if (res.data.status === \"success\") (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"success\", `${type.toUpperCase()} Updated Successfully`);\n    } catch (err) {\n        (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\n\n\n\nasync function $09824c5ad4fcbec7$export$61bb00ddedae72e4(action, data) {\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: `/api/v1/users/${action}`,\n            data: data\n        });\n        if (res.data.status === \"success\") {\n            (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"success\", action === \"signup\" ? \"Account Created!\" : \"Logged in successfully!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\nasync function $09824c5ad4fcbec7$export$a0973bcfe11b05c9() {\n    try {\n        const res = await axios({\n            method: \"GET\",\n            url: \"/api/v1/users/logout\"\n        });\n        if (res.data.status === \"success\") {\n            (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"success\", \"Logged out!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"error\", \"Error logging out! Try again\");\n    }\n}\nasync function $09824c5ad4fcbec7$export$45abfc3976589d02() {\n    try {\n        const res = await axios({\n            method: \"DELETE\",\n            url: \"/api/v1/users/deleteMe\"\n        });\n        if (res.status === 204) {\n            (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"success\", \"Account Deleted\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\n\n\n\nasync function $9dc01cb7f164a0a6$export$66791fb2cfeec3e(data) {\n    try {\n        const res = await axios({\n            method: \"POST\",\n            url: \"/api/v1/users/forgotPassword\",\n            data: data\n        });\n        if (res.data.status === \"success\") (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"success\", \"Mail sent to your email! You can close this tab\");\n    } catch (err) {\n        (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\nasync function $9dc01cb7f164a0a6$export$dc726c8e334dd814(data, resetToken) {\n    try {\n        const res = await axios({\n            method: \"PATCH\",\n            url: `/api/v1/users/resetPassword/${resetToken}`,\n            data: data\n        });\n        if (res.data.status === \"success\") {\n            (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"success\", \"Password Changed Succesfully\");\n            window.setTimeout(()=>{\n                location.assign(\"/me\");\n            }, 1000);\n        }\n    } catch (err) {\n        (0, $5636b7aa21cb8dd1$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n}\n\n\n// Delegation\ndocument.querySelector(\".form--login\")?.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const email = document.querySelector(\"#email\").value;\n    const password = document.querySelector(\"#password\").value;\n    (0, $09824c5ad4fcbec7$export$61bb00ddedae72e4)(\"login\", {\n        email: email,\n        password: password\n    });\n});\ndocument.querySelector(\".form--signup\")?.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const name = document.querySelector(\"#name\").value;\n    const email = document.querySelector(\"#email\").value;\n    const role = document.querySelector(\"#role\").value.toLowerCase();\n    const password = document.querySelector(\"#password\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n    (0, $09824c5ad4fcbec7$export$61bb00ddedae72e4)(\"signup\", {\n        name: name,\n        email: email,\n        role: role,\n        password: password,\n        passwordConfirm: passwordConfirm\n    });\n});\ndocument.querySelector(\".nav__el--logout\")?.addEventListener(\"click\", (0, $09824c5ad4fcbec7$export$a0973bcfe11b05c9));\ndocument.querySelector(\".form-user-data\")?.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const form = new FormData();\n    form.append(\"name\", document.querySelector(\"#name\").value);\n    form.append(\"email\", document.querySelector(\"#email\").value);\n    form.append(\"photo\", document.querySelector(\"#photo\").files[0]);\n    (0, $0189fb05f67d4288$export$f558026a994b6051)(form, \"data\");\n});\ndocument.querySelector(\".form-user-password\")?.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    document.querySelector(\".btn--save-password\").textContent = \"Updating...\";\n    const passwordCurrent = document.querySelector(\"#password-current\").value;\n    const password = document.querySelector(\"#password-new\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n    await (0, $0189fb05f67d4288$export$f558026a994b6051)({\n        passwordCurrent: passwordCurrent,\n        password: password,\n        passwordConfirm: passwordConfirm\n    }, \"password\");\n    document.querySelector(\".btn--save-password\").textContent = \"Save password\";\n    document.querySelector(\"#password-current\").value = \"\";\n    document.querySelector(\"#password\").value = \"\";\n    document.querySelector(\"#password-confirm\").value = \"\";\n});\ndocument.querySelector(\".form--forgot-password\")?.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    document.querySelector(\".btn--green\").textContent = \"Verifying...\";\n    const email = document.querySelector(\"#email\").value;\n    await (0, $9dc01cb7f164a0a6$export$66791fb2cfeec3e)({\n        email: email\n    });\n    document.querySelector(\".btn--green\").textContent = \"Verified\";\n});\ndocument.querySelector(\".form--reset-password\")?.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const resetToken = window.location.pathname.split(\"/\").at(-1);\n    document.querySelector(\".btn--green\").textContent = \"Updating...\";\n    const password = document.querySelector(\"#password\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n    await (0, $9dc01cb7f164a0a6$export$dc726c8e334dd814)({\n        password: password,\n        passwordConfirm: passwordConfirm\n    }, resetToken);\n    document.querySelector(\".btn--green\").textContent = \"Updated\";\n});\ndocument.querySelector(\"#book-tour\")?.addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    const { tourId: tour, userId: user, price: price } = e.target.dataset;\n    (0, $3c95d9b119c33d68$export$8d5bdbf26681c0c2)({\n        tour: tour,\n        user: user,\n        price: price\n    });\n});\ndocument.querySelector(\".form-delete-account\")?.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    (0, $09824c5ad4fcbec7$export$45abfc3976589d02)();\n});\n\n\n//# sourceMappingURL=index.js.map\n","import { bookTour } from \"./booking\";\nimport { updateSettings } from \"./updateSettings\";\nimport { authenticate, logout, deleteAccount } from \"./authenticate\";\nimport { forgotPassword, resetPassword } from \"./passwordReset\";\n\n// Delegation\ndocument.querySelector(\".form--login\")?.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const email = document.querySelector(\"#email\").value;\n  const password = document.querySelector(\"#password\").value;\n\n  authenticate(\"login\", { email, password });\n});\n\ndocument.querySelector(\".form--signup\")?.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const name = document.querySelector(\"#name\").value;\n  const email = document.querySelector(\"#email\").value;\n  const role = document.querySelector(\"#role\").value.toLowerCase();\n  const password = document.querySelector(\"#password\").value;\n  const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n\n  authenticate(\"signup\", { name, email, role, password, passwordConfirm });\n});\n\ndocument.querySelector(\".nav__el--logout\")?.addEventListener(\"click\", logout);\n\ndocument.querySelector(\".form-user-data\")?.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  const form = new FormData();\n  form.append(\"name\", document.querySelector(\"#name\").value);\n  form.append(\"email\", document.querySelector(\"#email\").value);\n  form.append(\"photo\", document.querySelector(\"#photo\").files[0]);\n\n  updateSettings(form, \"data\");\n});\n\ndocument\n  .querySelector(\".form-user-password\")\n  ?.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    document.querySelector(\".btn--save-password\").textContent = \"Updating...\";\n    const passwordCurrent = document.querySelector(\"#password-current\").value;\n    const password = document.querySelector(\"#password-new\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n    await updateSettings(\n      { passwordCurrent, password, passwordConfirm },\n      \"password\"\n    );\n\n    document.querySelector(\".btn--save-password\").textContent = \"Save password\";\n    document.querySelector(\"#password-current\").value = \"\";\n    document.querySelector(\"#password\").value = \"\";\n    document.querySelector(\"#password-confirm\").value = \"\";\n  });\n\ndocument\n  .querySelector(\".form--forgot-password\")\n  ?.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    document.querySelector(\".btn--green\").textContent = \"Verifying...\";\n    const email = document.querySelector(\"#email\").value;\n\n    await forgotPassword({ email });\n\n    document.querySelector(\".btn--green\").textContent = \"Verified\";\n  });\n\ndocument\n  .querySelector(\".form--reset-password\")\n  ?.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    const resetToken = window.location.pathname.split(\"/\").at(-1);\n\n    document.querySelector(\".btn--green\").textContent = \"Updating...\";\n    const password = document.querySelector(\"#password\").value;\n    const passwordConfirm = document.querySelector(\"#password-confirm\").value;\n\n    await resetPassword({ password, passwordConfirm }, resetToken);\n\n    document.querySelector(\".btn--green\").textContent = \"Updated\";\n  });\n\ndocument.querySelector(\"#book-tour\")?.addEventListener(\"click\", (e) => {\n  e.preventDefault();\n  const { tourId: tour, userId: user, price } = e.target.dataset;\n  bookTour({ tour, user, price });\n});\n\ndocument\n  .querySelector(\".form-delete-account\")\n  ?.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    deleteAccount();\n  });\n","import { showAlert } from \"./alerts\";\r\n\r\nexport async function bookTour(data) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: `/api/v1/bookings`,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Tour booked!\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/my-bookings\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n","export function hideAlert() {\r\n  const el = document.querySelector(\".alert\");\r\n  el?.parentElement.removeChild(el);\r\n}\r\n\r\nexport function showAlert(type, msg) {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\r\n  window.setTimeout(hideAlert, 2000);\r\n}\r\n","import { showAlert } from \"./alerts\";\r\n\r\nexport async function updateSettings(data, type) {\r\n  try {\r\n    const url = `/api/v1/users/update${\r\n      type === \"password\" ? \"Password\" : \"Me\"\r\n    }`;\r\n\r\n    const res = await axios({\r\n      method: \"PATCH\",\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === \"success\")\r\n      showAlert(\"success\", `${type.toUpperCase()} Updated Successfully`);\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n","import { showAlert } from \"./alerts\";\r\n\r\nexport async function authenticate(action, data) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: `/api/v1/users/${action}`,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\r\n        \"success\",\r\n        action === \"signup\" ? \"Account Created!\" : \"Logged in successfully!\"\r\n      );\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n\r\nexport async function logout() {\r\n  try {\r\n    const res = await axios({\r\n      method: \"GET\",\r\n      url: \"/api/v1/users/logout\",\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Logged out!\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", \"Error logging out! Try again\");\r\n  }\r\n}\r\n\r\nexport async function deleteAccount() {\r\n  try {\r\n    const res = await axios({\r\n      method: \"DELETE\",\r\n      url: \"/api/v1/users/deleteMe\",\r\n    });\r\n\r\n    if (res.status === 204) {\r\n      showAlert(\"success\", \"Account Deleted\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n","import { showAlert } from \"./alerts\";\r\n\r\nexport async function forgotPassword(data) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: \"/api/v1/users/forgotPassword\",\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Mail sent to your email! You can close this tab\");\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n\r\nexport async function resetPassword(data, resetToken) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"PATCH\",\r\n      url: `/api/v1/users/resetPassword/${resetToken}`,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Password Changed Succesfully\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/me\");\r\n      }, 1000);\r\n    }\r\n  } catch (err) {\r\n    showAlert(\"error\", err.response.data.message);\r\n  }\r\n}\r\n"],"names":["$5636b7aa21cb8dd1$export$516836c6a9dfc573","el","document","querySelector","parentElement","removeChild","$5636b7aa21cb8dd1$export$de026b00723010c1","type","msg","markup","insertAdjacentHTML","window","setTimeout","$3c95d9b119c33d68$export$8d5bdbf26681c0c2","data","res","axios","method","url","status","location","assign","err","response","message","$0189fb05f67d4288$export$f558026a994b6051","toUpperCase","$09824c5ad4fcbec7$export$61bb00ddedae72e4","action","$09824c5ad4fcbec7$export$a0973bcfe11b05c9","$09824c5ad4fcbec7$export$45abfc3976589d02","$9dc01cb7f164a0a6$export$66791fb2cfeec3e","$9dc01cb7f164a0a6$export$dc726c8e334dd814","resetToken","addEventListener","e","preventDefault","email","value","password","name","role","toLowerCase","passwordConfirm","form","FormData","append","files","textContent","passwordCurrent","pathname","split","at","tourId","tour","userId","user","price","target","dataset"],"version":3,"file":"index.js.map","sourceRoot":"../../"}